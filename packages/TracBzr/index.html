---
layout: main
title: TracBzr
---
<h1 class="name">TracBzr</h1>
<pre class="doc">Bazaar plugin for Trac</pre>

<h2>Interfaces Declared:</h2>
<ul>
</ul>
<h2>Components Provided:</h2>
<ul>
  <li><a href="components/tracbzr.backend.BzrConnector/index.html">tracbzr.backend.BzrConnector</a></li>
  <li><a href="components/tracbzr.backend.BzrWikiMacros/index.html">tracbzr.backend.BzrWikiMacros</a></li>
  <li><a href="components/tracbzr.backend.BzrPropertyRenderer/index.html">tracbzr.backend.BzrPropertyRenderer</a></li>
</ul>

<h2>Package Metadata:</h2>
<pre class="metadata">
{'author': 'Trac Bazaar Team',
 'author_email': 'trac-bzr-team@lists.launchpad.net',
 'classifiers': ['Development Status :: 4 - Beta',
                 'Environment :: Plugins',
                 'Environment :: Web Environment',
                 'Framework :: Trac',
                 'Intended Audience :: Developers',
                 'License :: OSI Approved :: GNU General Public License (GPL)',
                 'Natural Language :: English',
                 'Operating System :: OS Independent',
                 'Programming Language :: Python',
                 'Programming Language :: Python :: 2',
                 'Topic :: Internet :: WWW/HTTP :: Dynamic Content',
                 'Topic :: Software Development :: Version Control'],
 'description': 'Bazaar plugin for Trac',
 'entry_points': {'trac.plugins': 'bzr = tracbzr.backend'},
 'keywords': 'trac vcs plugin bazaar bzr',
 'license': 'GPL',
 'long_description': '===================================\nMulti-branch Bazaar plugin for Trac\n===================================\n\n.. contents::\n\nThis plugin is based on earlier plugins.  Its main innovation is to make\nmultiple branches available, the way Trac normally does.\n\n| Copyright (C) 2005 Edgewall Software\n| Copyright (C) 2005-2006 Christian Boos &lt;cboos@neuf.fr&gt;\n| Copyright (C) 2005 Johan Rydberg &lt;jrydberg@gnu.org&gt;\n| Copyright (C) 2006 Yann Hodique &lt;hodique@lifl.fr&gt;\n| Copyright (C) 2006 Jelmer Vernooij &lt;jelmer@samba.org&gt;\n| Copyright (C) 2006 Lukas Lalinsky &lt;lalinsky@gmail.com&gt;\n| Copyright (C) 2006 Marien Zwart &lt;marienz@gentoo.org&gt;\n| Copyright (C) 2006,2007 Panoramic Feedback &lt;abentley@panoramicfeedback.com&gt;\n| Copyright (C) 2006,2008,2009,2010 Jelmer Vernooij &lt;jelmer@samba.org&gt;\n| Copyright (C) 2009,2010 Martin von Gagern &lt;Martin.vGagern@gmx.net&gt;\n| Copyright (C) 2009 Hendrik van Antwerpen\n| All rights reserved.\n\nThis program is free software; you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation; either version 2 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program; if not, write to the Free Software\nFoundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\n\nFeatures\n========\n\nRepository views\n----------------\nSupports all major Trac views and &quot;changeset:&quot; notation.\n\nAllows a collection of branches to be treated as a &quot;trac repository&quot;,\nregardless of whether they are related or in the same bzr repository.\n\nFollows symlinks to branches.\n\nWiki Macros\n-----------\n\nBranches\n........\nThe plugin provides a macro called ``[[Branches]]``\nto list all available branches, together with some information about them,\nlike the current revision number and the time of the last commit.\n\n\nInstallation\n============\nBasically the `Plugins section of the Trac Guide`__ applies to the\ninstallation of trac-bzr as well.\nIt gives you several options how to install a plugin.\n\n.. __: http://trac.edgewall.org/wiki/TracPlugins\n\nThe bundled bzr plugin can be installed either by using setup.py\nto install or by copying the ``bzrplugin`` directory into\n``~/.bazaar/plugins`` and renaming to ``trac``.\n\nSystem-wide using easy_install\n------------------------------\nExecuting the command &quot;``easy_install TracBzr``&quot; as root should install\nthe plugin system-wide, making it available to all trac environments\non that system.\n\nPer-environment using plugin egg file\n-------------------------------------\nYou can download the egg file corresponding to your python version and\nplace it in the ``plugins`` directory of a Trac environment.\n\nBuilding from source\n--------------------\nIf you want to build trac-bzr from source, you can either grab a\nsource release tarball or a checkout of a development branch. Many\ndevelopment branches are `listed on launchpad`__. Once you have\nobtained such a source tree, execute &quot;``python setup.py install``&quot; to\ninstall the plugin system-wide, or &quot;``python setup.py bdist_egg``&quot; to\nobtain an egg file for installation in a single Trac environment.\n\n.. __: https://code.launchpad.net/trac-bzr\n\nRequirements\n------------\nIn order to function properly, trac-bzr requires the packages listed below.\n\nThese dependencies are not handled by setuptools, because otherwise\nthe plugin would fail to load if one of the dependencies wasn\'t\ninstalled with setuptools or similar.\n\nPython 2.4\n  This plugin uses bzrlib directly, so it requires Python 2.4 or greater.\n\nTrac 0.10\n  Some features may only work with Trac 0.11 or even Trac 0.12.\n\nBazaar 2.0\n  This plugin should work with Bazaar 2.0.\n  Earlier versions may or may not work.\n\nConfiguration\n=============\nTo configure trac-bzr, you\'ll have to edit the ``trac.ini`` file of\nyour Trac environment.\n\nRequired configuration\n----------------------\nAfter installing, you\'ll want to set the following values::\n\n  [components]\n  tracbzr.* = enabled\n\n  [trac]\n  repository_type = bzr\n  repository_dir = /path/to/collection/of/bzr/branches\n\ncomponents\n..........\nThis should include &quot;``tracbzr.* = enabled``&quot; to enable all features\nprovided by the plugin.\nAs an alternative, you can enable or disable specific components\nproviding specific features, e.g. in order to disable the wiki macro\nprovider.\nUse the Trac web admin plugin interface (Trac 0.11 or later) or have a\nlook at the sources to find out which components are available.\n\nrepository_dir\n..............\nThis should point at the directory containing your branches.  This directory\ndoes not have to be a repository.  trac-bzr doesn\'t require branches to\nbe related, though that is permitted, of course.\n\nrepository_type\n...............\nThis should be &quot;bzr&quot;.\n\nOptional configuration\n----------------------\nThere are some optional settings you can configure for trac-bzr.\nIf you do not specify them, the following defaults will be used instead::\n\n  [tracbzr]\n  primary_branches = trunk\n  include_sideline_changes = True\n\nprimary_branches\n................\nThis is a comma-separated ordered list of the main branches of your project.\nYou may also specify `glob patterns`_ in this list to match multiple branches.\n\nNote that the pattern must match from the root of repository_dir, so if you\nset it to e.g. a directory containing sub-directories which in turn contain\nbranches, you should set primary_branches to ``*/BRANCH``.\n\nThe Branches_ wiki macro will list branches in the order specified by this list.\nThe timeline view will try to associate changesets with branches in the\nspecified order.\nIn both cases, branches not matched by any list item will be inserted at the\nend of the list, as if you had ended the list with ``,*``.\nBranches matched by a single list item will be sorted alphabetically.\n\n.. _`glob patterns`: http://docs.python.org/library/fnmatch.html\n\ninclude_sideline_changes\n........................\nThis boolean flag selects whether or not sideline changes, i.e. those\ndenoted with dotted revision numbers, are included in the list of all\nchanges. This affects the output of the ``get_changesets`` method,\nwhich in turn influences the events listed in the timeline view.\n\nNote that there might be other plugins using that information as well,\nso there might be other components beside the timeline view that get\naffected by this setting.\n\nPerformance\n===========\n\nSome user-level operations are rather slow, because Trac\'s assumptions\nabout which repository operations are cheap vs expensive doesn\'t match\nBazaar\'s design.\n\nRevision numbers\n----------------\n\nOne of the problems is the mapping between revision identifiers and\nrevision numbers. The `Bazaar Revision Numbering Cache Plugin`__ might\nhelp for this problem, although it\'s experimental and hasn\'t been\ntested with trac-bzr extensively enough. Feedback welcome.\n\n.. __: https://launchpad.net/bzr-revnocache\n\nLast modifications\n------------------\n\nAnother problem is that bzr has a different idea about the last\nmodification of a directory. In svn, any modifications of directory\ncontents is said to modify the dir as well. In bzr, only changes to\nthe set of files in a directory are counted.\n\nInvestigations are in progress about how to solve this problem,\nprobably through the use of caches.\n\nLimitations\n===========\n\nBogus changesets\n----------------\nThis plugin introduces the bogus changeset &quot;current:&quot;, which is used as\nthe last-revision for directories that are not branches.  It also provides\n&quot;null:&quot;, which is part of Bazaar\'s theoretical model, but usually hidden.\n\nHidden nested branches\n----------------------\nBecause Trac, like Subversion, doesn\'t differentiate between &quot;source file\nnamespace&quot; and &quot;branch namespace&quot;, it is impossible to view branches whose\ndirectories are directly inside other branches\' directories.\n\nRevision order\n--------------\nIf two changesets are not related to one another by some direct ancestry,\ni.e. if neither one is an ancestor of the other, then revisions are sorted by\ntimestamp instead.\nIn case of a clock skew this can lead to inconcistent results,\nas transitivity isn\'t guaranteed for this approach.\n\nBracket syntax\n--------------\nTrac does not to recognize bzr revision strings in its bracket notation,\ne.g. ``[tree,25]``.\nHowever, you can use the changeset notation instead, e.g.\n``changeset:tree,25``.\n\nRevision specification format\n-----------------------------\nSince Trac repository queries don\'t give trac-bzr enough context, revisions\nhave to be specified and are presented in the format ``PATH_TO_BRANCH,REV``\nwhere ``PATH_TO_BRANCH`` is the path to branch (or object within the branch\nlike directory or file) relative to repository_dir, with slashes (\'/\')\nreplaced with commas (\',\').\n\nThis is visible when browsing the branches via Trac\'s source browser and this\nis also what you have to use in TracLinks.\n\nThis may be improved in the future when trac-bzr adds_ proper support\nfor the multiple repository interfaces added_ in Trac 0.12.\n\nIn the meantime, if you have an urgent need to address that and are able\nto spend some time implementing it, have a look at HACKING document for\npossible approaches in Trac 0.11 and below.\n\n.. _adds: https://blueprints.launchpad.net/trac-bzr/+spec/multirepo\n.. _added: http://trac.edgewall.org/wiki/MultipleRepositorySupport\n\nUnsupported download links\n--------------------------\nUsing download links in source browser (under &quot;Download in other formats&quot;\nheading) is not supported.  For details see `bug 394204`_, in short this is\na problem which should be addressed in Trac itself.\n\nIn fact an `upstream bug report`_ is already filled in and a patch is\navailable, so if you\'re interested in this feature check it out and discuss\nany issues with it upstream.\n\n.. _`bug 394204`: https://bugs.launchpad.net/trac-bzr/+bug/394204\n.. _`upstream bug report`: http://trac.edgewall.org/ticket/8919\n\nFile encoding\n-------------\nBecause at the moment Bazaar does not store information about encoding of text \nfiles, you may want to change the default character set used by trac. \nBy default trac use encoding iso-8895-15 to show content of your files. \nIf you need to change this option, you need to edit trac.ini of your project. \nIn section &quot;trac&quot; you need to change parameter named &quot;default_charset&quot;. E.g. \nfor russian files::\n\n  [trac]\n  default_charset = cp1251\n\nBazaar plugin\n=============\nThere is a Bazaar plugin bundled with this project which can automatically notify trac of new\ncommits. To enable this, set the ``trac_project`` option in the Bazaar config to the path\nof your trac environment.\n\nFor example, if your trac environment lives in ``/home/trac/myproject``, run::\n\n  $ bzr config trac_project=/home/trac/myproject\n\nin your Bazaar branch.\n\nThis plugin also adds a new bzr subcommand ``bzr close-trac-bugs`` which can automatically\nmark trac bugs as closed based on the Bazaar commit properties created with ``bzr commit --fixes``.\n',
 'name': 'TracBzr',
 'package_dir': {'bzrlib.plugins.trac': 'bzrplugin'},
 'packages': ['tracbzr', 'bzrlib.plugins.trac'],
 'test_suite': 'tracbzr.tests',
 'url': 'http://launchpad.net/trac-bzr',
 'version': '0.4.2'}
</pre>

